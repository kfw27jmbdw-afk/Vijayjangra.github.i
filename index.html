<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>iPhone Compatible Music Player</title>
<style>
  body {
    font-family: "Poppins", sans-serif;
    background: linear-gradient(135deg, #4e54c8, #8f94fb);
    color: white;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100vh;
    margin: 0;
  }
  h1 { margin-bottom: 10px; }
  .player {
    background: rgba(255,255,255,0.1);
    padding: 20px;
    border-radius: 15px;
    width: 90%;
    max-width: 400px;
    text-align: center;
    box-shadow: 0 4px 20px rgba(0,0,0,0.3);
  }
  .upload-label {
    display: inline-block;
    background: #03a9f4;
    color: white;
    padding: 10px 20px;
    border-radius: 25px;
    cursor: pointer;
    margin-bottom: 20px;
    transition: 0.3s;
  }
  .upload-label:hover { background: #0288d1; }
  input[type="file"] { display: none; }
  .song-name { margin-top: 10px; font-weight: 600; }
  .controls {
    display: flex;
    justify-content: center;
    gap: 15px;
    margin-top: 15px;
  }
  button {
    background: #03a9f4;
    border: none;
    padding: 10px;
    border-radius: 50%;
    font-size: 18px;
    cursor: pointer;
    color: white;
    transition: 0.3s;
  }
  button:hover { background: #0288d1; }
  .progress {
    width: 100%;
    height: 6px;
    background: rgba(255,255,255,0.3);
    border-radius: 5px;
    margin-top: 15px;
    cursor: pointer;
  }
  .progress-bar {
    height: 6px;
    width: 0%;
    background: #03a9f4;
    border-radius: 5px;
  }
  ul {
    list-style: none;
    padding: 0;
    max-height: 100px;
    overflow-y: auto;
    margin-top: 10px;
  }
  li {
    padding: 6px;
    background: rgba(255,255,255,0.1);
    margin-bottom: 5px;
    border-radius: 8px;
    cursor: pointer;
  }
  li.active { background: #03a9f4; }
</style>
</head>
<body>

<h1>üéß iPhone Music Player</h1>

<div class="player">
  <label class="upload-label" for="fileInput">Select Music Files</label>
  <input type="file" id="fileInput" accept="audio/*" multiple>

  <div class="song-name" id="songName">No song playing</div>

  <div class="progress" id="progress">
    <div class="progress-bar" id="progressBar"></div>
  </div>

  <div class="controls">
    <button id="prev">‚èÆÔ∏è</button>
    <button id="playPause">‚ñ∂Ô∏è</button>
    <button id="next">‚è≠Ô∏è</button>
  </div>

  <ul id="playlist"></ul>
</div>

<audio id="audio"></audio>

<script>
const fileInput = document.getElementById("fileInput");
const audio = document.getElementById("audio");
const playPause = document.getElementById("playPause");
const prev = document.getElementById("prev");
const next = document.getElementById("next");
const progress = document.getElementById("progress");
const progressBar = document.getElementById("progressBar");
const songName = document.getElementById("songName");
const playlist = document.getElementById("playlist");

let files = [];
let currentIndex = 0;
let playing = false;

// Load selected files
fileInput.addEventListener("change", e => {
  files = Array.from(e.target.files);
  playlist.innerHTML = "";
  files.forEach((f, i) => {
    const li = document.createElement("li");
    li.textContent = f.name;
    li.onclick = () => playSong(i);
    playlist.appendChild(li);
  });
  if (files.length > 0) playSong(0);
});

function playSong(i) {
  currentIndex = i;
  const file = files[i];
  if (!file) return;
  const url = URL.createObjectURL(file);
  audio.src = url;
  audio.play().catch(err => console.log(err));
  playing = true;
  playPause.textContent = "‚è∏Ô∏è";
  songName.textContent = file.name;
  highlightCurrent();
}

function highlightCurrent() {
  [...playlist.children].forEach((li, i) =>
    li.classList.toggle("active", i === currentIndex)
  );
}

playPause.onclick = () => {
  if (!files.length) return;
  if (playing) {
    audio.pause();
    playing = false;
    playPause.textContent = "‚ñ∂Ô∏è";
  } else {
    audio.play().catch(()=>{});
    playing = true;
    playPause.textContent = "‚è∏Ô∏è";
  }
};

next.onclick = () => {
  if (!files.length) return;
  currentIndex = (currentIndex + 1) % files.length;
  playSong(currentIndex);
};

prev.onclick = () => {
  if (!files.length) return;
  currentIndex = (currentIndex - 1 + files.length) % files.length;
  playSong(currentIndex);
};

audio.ontimeupdate = () => {
  if (audio.duration) {
    const percent = (audio.currentTime / audio.duration) * 100;
    progressBar.style.width = percent + "%";
  }
};

progress.onclick = e => {
  if (!audio.duration) return;
  const width = progress.clientWidth;
  const clickX = e.offsetX;
  audio.currentTime = (clickX / width) * audio.duration;
};

audio.onended = () => next.onclick();
</script>

</body>
</html>